<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal de Estudiantes - Inicio de Sesión</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .left-panel {
            background-color: #2D2D2D;
        }
        .right-panel {
            background-color: #7C4DFF;
            position: relative;
            overflow: hidden;
        }
        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: auto;
            z-index: 0;
        }
        .custom-illustration {
            position: relative;
            z-index: 10;
        }
        .alert-message {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="min-h-screen flex items-center justify-center">
        <div class="flex w-full max-w-6xl rounded-2xl shadow-2xl overflow-hidden m-4 md:m-0">
            <!-- Panel Izquierdo: Formulario de Login -->
            <div class="w-full md:w-1/2 p-8 sm:p-12 left-panel text-white flex flex-col justify-center">
                <div class="max-w-md mx-auto w-full">
                    <h1 class="text-4xl font-bold mb-2">Login</h1>
                    <p class="text-gray-400 mb-8">Ingresa los detalles de tu cuenta</p>

                    <!-- Mostrar mensajes de error o éxito -->
                    <div th:if="${param.error}" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 alert-message" role="alert">
                        <span th:text="${session.error}">Credenciales inválidas</span>
                    </div>
                    <div th:if="${param.logout}" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4 alert-message" role="alert">
                        Has cerrado sesión exitosamente
                    </div>

                    <form action="/login" method="POST">
                        <div class="mb-5">
                            <label for="email" class="block mb-2 text-sm font-medium text-gray-300">Correo Electrónico</label>
                            <input type="text" id="email" name="email" class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5 placeholder-gray-400" placeholder="tu-correo@ejemplo.com" required>
                        </div>
                        <div class="mb-3 relative">
                            <label for="password" class="block mb-2 text-sm font-medium text-gray-300">Contraseña</label>
                            <input type="password" id="password" name="password" class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5 placeholder-gray-400" placeholder="•••••••••" required>
                            <button type="button" id="togglePassword" class="absolute inset-y-0 right-0 top-7 pr-3 flex items-center text-sm leading-5 text-gray-400">
                                <i class="fa fa-eye" id="eyeIcon"></i>
                            </button>
                        </div>
                        <div class="text-right mb-6">
                            <a href="#" class="text-sm text-purple-400 hover:underline">¿Olvidaste tu contraseña?</a>
                        </div>
                        <button type="submit" class="w-full text-white bg-purple-600 hover:bg-purple-700 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-3 text-center transition duration-300">
                            Login
                        </button>
                    </form>
                    
                    <div class="mt-8 text-center text-sm text-gray-400">
                        ¿No tienes una cuenta? <a href="#" class="font-medium text-purple-400 hover:underline">Regístrate</a>
                    </div>
                </div>
            </div>

            <!-- Panel Derecho: Bienvenida e Ilustración -->
            <div class="hidden md:flex w-1/2 right-panel items-center justify-center p-12 text-white flex-col text-center">
                <!-- SVG de onda decorativa -->
                <svg class="wave" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
                  <path fill="#6533FF" fill-opacity="0.5" d="M0,160L48,170.7C96,181,192,203,288,208C384,213,480,203,576,170.7C672,139,768,85,864,90.7C960,96,1056,160,1152,176C1248,192,1344,160,1392,144L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
                </svg>

                <div class="custom-illustration space-y-4">
                    <h2 class="text-4xl font-bold leading-tight">Bienvenido a<br>Aprende +</h2>
                    <p class="text-purple-200">Inicia sesión para acceder a tu cuenta</p>

                    <!-- SVG de ilustración personalizado -->
                    <svg class="w-80 h-80 mx-auto" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <g transform="translate(100 100)">
                            <!-- Documento principal -->
                            <path d="M-40,-60 H40 V60 H-40 Z" fill="none" stroke="#FFFFFF" stroke-width="2" rx="5"></path>
                            <path d="M-30,-50 H30" stroke="#FFFFFF" stroke-width="1.5"></path>
                            <path d="M-30,-40 H30" stroke="#FFFFFF" stroke-width="1.5"></path>
                            <path d="M-30,-30 H10" stroke="#FFFFFF" stroke-width="1.5"></path>
                            <!-- Círculo decorativo -->
                            <circle cx="0" cy="20" r="15" fill="none" stroke="#FFFFFF" stroke-width="2"></circle>
                            <circle cx="0" cy="20" r="3" fill="#FFFFFF"></circle>

                            <!-- Persona 1 (sentada) -->
                            <g transform="translate(30, -50)">
                                <path d="M0,-10 C 10,-10 10,10 0,10 C -10,10 -10,-10 0,-10 Z" fill="#2D2D2D"></path> <!-- Cuerpo -->
                                <circle cx="0" cy="-15" r="5" fill="#2D2D2D"></circle> <!-- Cabeza -->
                                <rect x="-10" y="10" width="15" height="4" rx="2" fill="#FFFFFF"></rect> <!-- Laptop -->
                            </g>
                            
                            <!-- Persona 2 (caminando) -->
                             <g transform="translate(-50, 30)">
                                <path d="M0,-15 L 5,15 L -5,15 Z" fill="#2D2D2D" transform="rotate(10)"></path> <!-- Cuerpo -->
                                <circle cx="0" cy="-20" r="5" fill="#2D2D2D"></circle> <!-- Cabeza -->
                                <rect x="-15" y="0" width="4" height="8" rx="1" fill="#FFFFFF"></rect> <!-- Teléfono -->
                            </g>
                            
                            <!-- Planta decorativa -->
                            <g transform="translate(60, 50)">
                                <path d="M0,0 C 10,-20 20,-20 20,0" stroke="#FFFFFF" stroke-width="2" fill="none"></path>
                                <path d="M0,0 C -10,-20 -20,-20 -20,0" stroke="#FFFFFF" stroke-width="2" fill="none"></path>
                                <path d="M-10,10 H10 V20 H-10 Z" fill="#2D2D2D"></path>
                            </g>
                        </g>
                    </svg>

                </div>
            </div>
        </div>
    </div>

    <script>
        const togglePassword = document.querySelector('#togglePassword');
        const password = document.querySelector('#password');
        const eyeIcon = document.querySelector('#eyeIcon');

        togglePassword.addEventListener('click', function (e) {
            // toggle the type attribute
            const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
            password.setAttribute('type', type);
            // toggle the eye icon
            eyeIcon.classList.toggle('fa-eye-slash');
        });

        // Ocultar mensajes después de 5 segundos
        setTimeout(() => {
            const alerts = document.querySelectorAll('.alert-message');
            alerts.forEach(alert => {
                alert.style.opacity = '0';
                setTimeout(() => alert.remove(), 300);
            });
        }, 5000);
    </script>
</body>
</html>